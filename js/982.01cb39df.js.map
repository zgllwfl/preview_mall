{"version":3,"file":"js/982.01cb39df.js","mappings":"6TA0BA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAWC,EAAAA,EAAAA,IAAS,CACxBC,KAAM,IACNC,SAAU,GACVC,WAAY,GACZC,SAAU,GACVC,WAAY,KAGRC,GAAUC,EAAAA,EAAAA,IAAI,MACdC,EAAYC,UAChB,MAAM,SAAEL,EAAF,WAAYC,GAAeN,EAC3BW,EAAYJ,EAAQK,MAAMC,aAAcC,EAAAA,EAAAA,IAAgBT,EAAUC,GACxE,GAAIK,EAAW,CACb,MAAMN,GAAWU,EAAAA,EAAAA,GAAQf,EAASK,UAC5BC,GAAaS,EAAAA,EAAAA,GAAQf,EAASM,YAC9BF,GAAaW,EAAAA,EAAAA,GAAQf,EAASI,YAC9BY,EAAOC,OAAOC,OAAO,GAAIlB,GAC/BgB,EAAKX,SAAWA,EAChBW,EAAKV,WAAaA,EAClBU,EAAKZ,WAAaA,EAClB,MAAMe,QAAYC,EAAAA,EAAAA,IAASJ,GACvBG,EAAIE,WACN,OAAMF,EAAIG,KACVxB,EAAOyB,KAAK,CACVC,KAAM,QACNC,OAAQ,CACNtB,SAAUgB,GAAKO,MAAMvB,eAOzBwB,EAAU,IAAM7B,EAAOyB,KAAK,U,wuBCtDlC,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://mall/./src/views/login/Register.vue","webpack://mall/./src/views/login/Register.vue?f79a"],"sourcesContent":["<template>\r\n  <div class=\"login-bg\">\r\n    <NavBar title=\"用户注册\"></NavBar>\r\n    <div class=\"login\">\r\n      <sms-login ref=\"CodeRef\" :form-data=\"formData\"></sms-login>\r\n      <Input v-model.trim=\"formData.password\" placeholder=\"输入密码\" type=\"password\" />\r\n      <Input v-model.trim=\"formData.rePassword\" placeholder=\"确认密码\" type=\"password\" />\r\n      <button class=\"common-btn\" @click=\"_register\">注册</button>\r\n      <div class=\"login-bottom\">\r\n        <span @click=\"goLogin\">立即登录</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { Toast } from 'vant'\r\nimport NavBar from './components/NavBar'\r\nimport SmsLogin from './components/SmsLogin'\r\nimport Input from 'components/Input/Input'\r\nimport { confirmPassword } from '@/utils/validate'\r\nimport { encrypt } from '@/utils/encrypt'\r\nimport { register } from '@/api/user'\r\n\r\nconst router = useRouter()\r\nconst formData = reactive({\r\n  type: '1',\r\n  username: '',\r\n  verifyCode: '',\r\n  password: '',\r\n  rePassword: ''\r\n})\r\n\r\nconst CodeRef = ref(null)\r\nconst _register = async () => {\r\n  const { password, rePassword } = formData\r\n  const verifyRes = CodeRef.value.validate() && confirmPassword(password, rePassword)\r\n  if (verifyRes) {\r\n    const password = encrypt(formData.password)\r\n    const rePassword = encrypt(formData.rePassword)\r\n    const verifyCode = encrypt(formData.verifyCode)\r\n    const temp = Object.assign({}, formData)\r\n    temp.password = password\r\n    temp.rePassword = rePassword\r\n    temp.verifyCode = verifyCode\r\n    const res = await register(temp)\r\n    if (res.success) {\r\n      Toast(res.msg)\r\n      router.push({\r\n        name: 'Login',\r\n        params: {\r\n          username: res?.data?.username\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nconst goLogin = () => router.push('/login')\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login {\r\n  margin-top: 10%;\r\n  text-align: center;\r\n  position: relative;\r\n  .login-bottom {\r\n    margin-top: 15px;\r\n    font-size: 16px;\r\n    span {\r\n      padding: 5px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./Register.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Register.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=24373966&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-24373966\"]])\n\nexport default __exports__"],"names":["router","useRouter","formData","reactive","type","username","verifyCode","password","rePassword","CodeRef","ref","_register","async","verifyRes","value","validate","confirmPassword","encrypt","temp","Object","assign","res","register","success","msg","push","name","params","data","goLogin","__exports__"],"sourceRoot":""}