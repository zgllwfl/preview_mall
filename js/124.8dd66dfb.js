"use strict";(self["webpackChunkmall"]=self["webpackChunkmall"]||[]).push([[124],{6899:function(t,a,n){n.d(a,{Z:function(){return p}});var c=n(3396);const e={class:"nav-bar"},i={class:"nav-left"},s={class:"nav-center"},l=(0,c.Uk)("标题"),o={class:"nav-right"};function r(t,a){return(0,c.wg)(),(0,c.iD)("div",e,[(0,c._)("div",i,[(0,c.WI)(t.$slots,"left",{},void 0,!0)]),(0,c._)("div",s,[(0,c.WI)(t.$slots,"center",{},(()=>[l]),!0)]),(0,c._)("div",o,[(0,c.WI)(t.$slots,"right",{},void 0,!0)])])}var u=n(89);const v={},d=(0,u.Z)(v,[["render",r],["__scopeId","data-v-6887fa4f"]]);var p=d},2131:function(t,a,n){n.d(a,{Z:function(){return I}});n(6699);var c=n(3396),e=n(4870),i=n(7139),s=n(65),l=n(678);const o={class:"tabbar"};function r(t,a){return(0,c.wg)(),(0,c.iD)("div",o,[(0,c.WI)(t.$slots,"default",{},void 0,!0)])}var u=n(89);const v={},d=(0,u.Z)(v,[["render",r],["__scopeId","data-v-3e341c93"]]);var p=d,g=n(9242);const f={class:"item-icon"},m={class:"item-active-icon"};var _={props:{link:{type:String,required:!0}},setup(t){const a=t,n=(0,l.tv)(),s=()=>{n.replace(a.link)},o=(0,l.yj)(),r=(0,c.Fl)((()=>-1!==o.path.indexOf(a.link)));return(t,a)=>((0,c.wg)(),(0,c.iD)("div",{class:"tab-bar-item",onClick:s},[(0,c.wy)((0,c._)("div",f,[(0,c.WI)(t.$slots,"icon")],512),[[g.F8,!(0,e.SU)(r)]]),(0,c.wy)((0,c._)("div",m,[(0,c.WI)(t.$slots,"active-icon")],512),[[g.F8,(0,e.SU)(r)]]),(0,c._)("div",{class:(0,i.C_)(["item-text",(0,e.SU)(r)?"active":""])},[(0,c.WI)(t.$slots,"text")],2)]))}};const w=_;var k=w;const b=["src"],h=["src"],y=["src"],x=["src"];var S={setup(t){const a=(0,e.qj)([{id:1,icon:n(9537),activeIcon:n(996),text:"首页",to:"home"},{id:2,icon:n(4166),activeIcon:n(1488),text:"分类",to:"category"},{id:3,icon:n(782),activeIcon:n(7870),text:"购物车",to:"cart"},{id:4,icon:n(8561),activeIcon:n(5120),text:"我的",to:"account"}]),{state:o,dispatch:r,getters:u}=(0,s.oR)(),v=(0,l.yj)();(0,c.bv)((async()=>{const t=u.token,a=v.path;t&&!["/home","/category"].includes(a)&&r("cart/getCartList")}));const d=(0,c.Fl)((()=>o.cart.cartCount));return(t,n)=>{const s=(0,c.up)("van-badge");return(0,c.wg)(),(0,c.j4)((0,e.SU)(p),null,{default:(0,c.w5)((()=>[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)((0,e.SU)(a),(t=>((0,c.wg)(),(0,c.j4)((0,e.SU)(k),{key:t.id,link:t.to},{icon:(0,c.w5)((()=>[3===t.id?((0,c.wg)(),(0,c.j4)(s,{key:0,content:(0,e.SU)(d)?(0,e.SU)(d):"",max:"99"},{default:(0,c.w5)((()=>[(0,c._)("img",{src:t.icon,alt:""},null,8,b)])),_:2},1032,["content"])):((0,c.wg)(),(0,c.iD)("img",{key:1,src:t.icon,alt:""},null,8,h))])),"active-icon":(0,c.w5)((()=>[3===t.id?((0,c.wg)(),(0,c.j4)(s,{key:0,content:(0,e.SU)(d)?(0,e.SU)(d):"",max:"99"},{default:(0,c.w5)((()=>[(0,c._)("img",{src:t.activeIcon,alt:""},null,8,y)])),_:2},1032,["content"])):((0,c.wg)(),(0,c.iD)("img",{key:1,src:t.activeIcon,alt:""},null,8,x))])),text:(0,c.w5)((()=>[(0,c._)("span",null,(0,i.zw)(t.text),1)])),_:2},1032,["link"])))),128))])),_:1})}}};const C=S;var I=C},6170:function(t,a,n){n.r(a),n.d(a,{default:function(){return L}});n(767);var c=n(7619),e=n(3396),i=n(4870),s=n(2131),l=n(678),o=n(6899);const r=t=>((0,e.dD)("data-v-35f96fa1"),t=t(),(0,e.Cn)(),t),u=r((()=>(0,e._)("i",{class:"iconfont icon-arrow-left"},null,-1))),v=[u],d=r((()=>(0,e._)("i",{class:"iconfont icon-search"},null,-1))),p=r((()=>(0,e._)("span",null,"搜您喜欢的...",-1))),g=[d,p],f=r((()=>(0,e._)("i",{class:"iconfont icon-home"},null,-1))),m=[f];var _={setup(t){const a=(0,l.tv)(),n=()=>a.push("/search"),c=()=>a.push("/home");return(t,a)=>((0,e.wg)(),(0,e.j4)((0,i.SU)(o.Z),{class:"border-1px"},{left:(0,e.w5)((()=>[(0,e._)("div",{class:"nav-left",onClick:c},v)])),center:(0,e.w5)((()=>[(0,e._)("div",{class:"search",onClick:n},g)])),right:(0,e.w5)((()=>[(0,e._)("div",{class:"nav-right",onClick:c},m)])),_:1}))}},w=n(89);const k=(0,w.Z)(_,[["__scopeId","data-v-35f96fa1"]]);var b=k,h=n(7139),y=n(9877);const x={class:"menu-list"},S=["onClick"];var C={props:{data:{type:Array}},emits:["tabMenuClick"],setup(t,{emit:a}){const n=(0,i.iH)(0),c=(t,c)=>{n.value=t,a("tabMenuClick",c)},s=(0,i.iH)(0),l=t=>{s.value=Math.abs(t.y)};return(a,s)=>((0,e.wg)(),(0,e.j4)((0,i.SU)(y.Z),{ref:"scrollRef",class:"tab-menu",bounce:{top:!1,bottom:!1},"listen-scroll":!0,onScroll:l},{default:(0,e.w5)((()=>[(0,e._)("div",x,[(0,e._)("ul",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.data,((t,a)=>((0,e.wg)(),(0,e.iD)("li",{key:t.id,class:(0,h.C_)(["menu-list-item",{active:n.value===a}]),onClick:n=>c(a,t.id)},(0,h.zw)(t.name),11,S)))),128))])])])),_:1},512))}};const I=(0,w.Z)(C,[["__scopeId","data-v-68704fd6"]]);var U=I;const D={class:"tab-content"},Z={class:"tab-content-item"},j={class:"content-img"},H=["src","alt"],W={class:"content-list"},$=["onClick"],M=["src"];var F={props:{data:{type:[Object,Array]}},setup(t){const a=(0,i.iH)(0),n=t=>{a.value=Math.abs(t.y)},c=(0,l.tv)(),s=t=>{c.push({name:"categoryDetail",params:{key:t.name,id:t.id}})};return(a,c)=>((0,e.wg)(),(0,e.j4)((0,i.SU)(y.Z),{ref:"scrollRef",class:"tab-content-scroll",bounce:{top:!1,bottom:!1},"listen-scroll":!0,onScroll:n},{default:(0,e.w5)((()=>[(0,e._)("div",D,[(0,e._)("div",Z,[(0,e._)("ul",null,[(0,e._)("div",j,[(0,e._)("img",{src:t.data.pic,alt:t.data.name},null,8,H)]),(0,e._)("div",W,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(t.data.children,(t=>((0,e.wg)(),(0,e.iD)("li",{key:t.id,class:"content-list-item",onClick:a=>s(t)},[(0,e._)("img",{src:t.pic,alt:""},null,8,M),(0,e._)("span",null,(0,h.zw)(t.name),1)],8,$)))),128))])])])])])),_:1},512))}};const Y=(0,w.Z)(F,[["__scopeId","data-v-403a272c"]]);var q=Y,z=n(4471);const K=()=>(0,z.Z)({url:"/categories"}),R={class:"category"},A={key:0,class:"cate-content"};var O={setup(t){const a=(0,i.iH)(!0),n=(0,i.iH)([]),l=(0,i.iH)([]),o=(0,i.iH)([]);(0,e.bv)((async()=>{c.Z.loading("加载中...");const{data:t}=await K();l.value=t[0],c.Z.clear(),t.forEach((t=>{n.value.push({id:t.id,name:t.name,img_url:t.img_url}),o.value.push({id:t.id,name:t.name,pic:t.pic,children:t.children})})),a.value=!1}));const r=t=>{l.value=o.value.filter((a=>a.id===t))[0]};return(t,c)=>((0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("div",R,[(0,e.Wm)((0,i.SU)(b)),a.value?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",A,[(0,e.Wm)((0,i.SU)(U),{data:n.value,onTabMenuClick:r},null,8,["data"]),(0,e.Wm)((0,i.SU)(q),{data:l.value},null,8,["data"])]))]),(0,e.Wm)((0,i.SU)(s.Z))],64))}};const E=O;var L=E},782:function(t,a,n){t.exports=n.p+"img/cart.883aded3.svg"},7870:function(t,a,n){t.exports=n.p+"img/cart_active.a5fff7f8.svg"},4166:function(t,a,n){t.exports=n.p+"img/category.cf162e2e.svg"},1488:function(t,a,n){t.exports=n.p+"img/category_active.fa49b3ae.svg"},9537:function(t,a,n){t.exports=n.p+"img/home.0be7de05.svg"},996:function(t,a,n){t.exports=n.p+"img/home_active.f910b8a8.svg"},8561:function(t,a,n){t.exports=n.p+"img/profile.8be0b7e0.svg"},5120:function(t,a,n){t.exports=n.p+"img/profile_active.2f1077b7.svg"}}]);
//# sourceMappingURL=124.8dd66dfb.js.map