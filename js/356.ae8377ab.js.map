{"version":3,"file":"js/356.ae8377ab.js","mappings":"qPAKO,MAAMA,EAAeC,IACnBC,EAAAA,EAAAA,GAAQ,CACbC,IAAK,aAUIC,EAAiBH,IACrBC,EAAAA,EAAAA,GAAQ,CACbC,IAAK,WACLE,OAAQ,OACRJ,KAAAA,IAOSK,EAAcC,IAClBL,EAAAA,EAAAA,GAAQ,CACbC,IAAM,YAAWI,IACjBF,OAAQ,WAOCG,EAAa,EAAGD,GAAAA,EAAIE,QAAAA,EAASC,QAAAA,KAAYT,MAC7CC,EAAAA,EAAAA,GAAQ,CACbC,IAAM,YAAWI,IACjBF,OAAQ,MACRJ,KAAAA,IAOSU,EAAcJ,IAClBL,EAAAA,EAAAA,GAAQ,CACbC,IAAM,YAAWI,IACjBF,OAAQ,W,4LCjDL,MAAMO,EAAeX,GAASC,EAAAA,EAAAA,KAAa,UAAWD,GAGhDY,EAAaC,GAAUZ,EAAAA,EAAAA,IAAa,kBAAiBY,EAAMC,UAG3DC,EAAkB,CAACT,EAAIU,IAAWf,EAAAA,EAAAA,MAAe,WAAUK,gBAAiBU,KAK5EC,EAAoB,CAACX,EAAIQ,KAC7Bb,EAAAA,EAAAA,GAAQ,CACbC,IAAM,WAAUI,IAChBF,OAAQ,QACRJ,KAAM,CAAEc,OAAAA,KAOCI,EAAmBC,IACvBlB,EAAAA,EAAAA,GAAQ,CACbC,IAAM,8BAA6BiB,MAK1BC,EAAad,GAAOL,EAAAA,EAAAA,UAAgB,kBAAiBK,M,uTCflE,MAAMe,GAASC,EAAAA,EAAAA,MACTC,EAAS,IAAMF,EAAOG,O,uKCZ5B,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,6dCuBMJ,GAASC,EAAAA,EAAAA,MACTI,EAAY,IAChBL,EAAOM,KAAK,CACVC,KAAM,WACNf,MAAO,CACLgB,KAAM,YAYNC,GAAcC,EAAAA,EAAAA,KAAS,IAAMC,EAAMC,SAASC,QAAQC,IAAkC,IAAtBA,EAAQC,YAAoB,KAC5FC,GAAaN,EAAAA,EAAAA,KAAS,KAC1B,MAAM,SAAEO,EAAF,KAAYC,EAAZ,OAAkBC,EAAlB,cAA0BC,GAAkBX,EAAYY,MAC9D,OAAOJ,EAAW,IAAMC,EAAO,IAAMC,EAAS,IAAMC,K,OAGlDT,EAAMC,UAAYH,EAAYY,QAAO3B,EAAAA,EAAAA,IAAgBiB,EAAMb,QAASW,EAAYY,MAAMpC,I,+lBChD1F,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,ggCCFA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,qRCSM,MAAEqC,EAAF,QAASC,EAAT,OAAkBC,IAAWC,EAAAA,EAAAA,MACnCD,EAAO,uBACP,MAAME,EAAQ,GACRC,EAAU,GAChBL,EAAMM,KAAKC,UAAUC,SAAShB,IAC5BY,EAAMpB,KAAKQ,EAAQiB,MACnBJ,EAAQrB,KAAKQ,EAAQkB,WAMvB,MAAMC,EAAYC,UAChB,GAAmB,IAAfvB,EAAMwB,KAER,YADA,OAAM,gBAIR,MAAMC,QAAYxC,EAAAA,EAAAA,IAAkBe,EAAMb,QAAS,GACnD,GAAIsC,EAAIC,QAAS,CACf,MAAMC,EAAY,CAChBxC,QAASyC,SAAS5B,EAAMb,SAExB0C,MAAO,MACPT,KAAMT,EAAMM,KAAKC,UAAU,GAAGE,KAE9BU,UAA8E,wBAE1EL,QAAYM,EAAAA,EAAAA,GAAQJ,GACtBF,EAAIC,UAENM,OAAOC,SAASC,KAAOT,EAAIzD,KAAKmE,c,8OC1CtC,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,yECgBA,MAAMC,GAAYC,EAAAA,EAAAA,IAAS,CACzB,CAAE/D,GAAI,EAAG8C,KAAM,OAAQkB,KAAM,uBAC7B,CAAEhE,GAAI,EAAG8C,KAAM,QAASkB,KAAM,qBAC9B,CAAEhE,GAAI,EAAG8C,KAAM,OAAQkB,KAAM,iBAQzBC,GAAeC,EAAAA,EAAAA,IAAI,GACnBC,EAAaC,IACjBH,EAAa7B,MAAQgC,EACP,IAAVA,IACF,OAAM,e,4gBCjCV,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,+GCmBA,MAAMC,GAASC,EAAAA,EAAAA,MACTzD,EAAUwD,EAAO9D,MAAMM,QAEvBqC,GAAOgB,EAAAA,EAAAA,IAAI,IACXK,GAAYL,EAAAA,EAAAA,IAAI,IAChBM,GAAUN,EAAAA,EAAAA,KAAI,G,OACpBO,EAAAA,EAAAA,KAAUxB,UACR,MAAMyB,QAAoBjF,EAAAA,GAAAA,MAC1ByD,EAAKd,MAAQsC,EAAYhF,KAEzB,MAAMyD,QAAYvC,EAAAA,EAAAA,IAAgBC,GAClC0D,EAAUnC,MAAQuC,KAAKC,MAAMzB,EAAIzD,KAAKmF,YACtCL,EAAQpC,OAAQ,K,4wBCpClB,MAAM,GAAc,GAEpB","sources":["webpack://mall/./src/api/address.js","webpack://mall/./src/api/order.js","webpack://mall/./src/views/order/components/NavBar.vue","webpack://mall/./src/views/order/components/NavBar.vue?7c44","webpack://mall/./src/views/order/components/Address.vue","webpack://mall/./src/views/order/components/Address.vue?2052","webpack://mall/./src/views/order/components/GoodsInfo.vue","webpack://mall/./src/views/order/components/Footer.vue","webpack://mall/./src/views/order/components/Footer.vue?ee54","webpack://mall/./src/views/order/components/Payment.vue","webpack://mall/./src/views/order/components/Payment.vue?5a3e","webpack://mall/./src/views/order/Order.vue","webpack://mall/./src/views/order/Order.vue?5152"],"sourcesContent":["import request from '@/utils/request'\r\n\r\n/**\r\n * 收货地址列表\r\n */\r\nexport const addressList = (data) => {\r\n  return request({\r\n    url: '/address'\r\n  })\r\n}\r\n\r\n// 获取默认收货地址\r\nexport const defaultAddr = () => request.get('/address/default')\r\n\r\n/**\r\n * 添加收货地址\r\n */\r\nexport const createAddress = (data) => {\r\n  return request({\r\n    url: '/address',\r\n    method: 'POST',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * 删除收货地址\r\n */\r\nexport const delAddress = (id) => {\r\n  return request({\r\n    url: `/address/${id}`,\r\n    method: 'DELETE'\r\n  })\r\n}\r\n\r\n/**\r\n * 修改收货地址\r\n */\r\nexport const updateAddr = ({ id, user_id, country, ...data }) => {\r\n  return request({\r\n    url: `/address/${id}`,\r\n    method: 'PUT',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * 设置默认地址\r\n */\r\nexport const setDefault = (id) => {\r\n  return request({\r\n    url: `/address/${id}`,\r\n    method: 'PATCH'\r\n  })\r\n}\r\n","import request from '@/utils/request'\r\n\r\n// 生成订单\r\nexport const createOrder = (data) => request.post('/orders', data)\r\n\r\n// 订单列表\r\nexport const orderList = (query) => request.get(`/orders?status=${query.status}`)\r\n\r\n// 修改订单地址\r\nexport const updateOrderAddr = (id, addrId) => request.patch(`/orders/${id}/updateAddr/${addrId}`)\r\n\r\n/**\r\n * 修改订单状态\r\n */\r\nexport const updateOrderStatus = (id, status) => {\r\n  return request({\r\n    url: `/orders/${id}`,\r\n    method: 'PATCH',\r\n    data: { status }\r\n  })\r\n}\r\n\r\n/**\r\n * 查询订单\r\n */\r\nexport const selectOrderById = (orderId) => {\r\n  return request({\r\n    url: `/orders/selecOrder?orderId=${orderId}`\r\n  })\r\n}\r\n\r\n// 删除订单\r\nexport const delOrders = (id) => request.delete(`/orders/delete/${id}`)\r\n","<template>\r\n  <nav-bar>\r\n    <template #left>\r\n      <div class=\"nav-left\" @click=\"goBack\">\r\n        <i class=\"iconfont icon-arrow-left\"></i>\r\n      </div>\r\n    </template>\r\n    <template #center>\r\n      <span>确认订单</span>\r\n    </template>\r\n  </nav-bar>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRouter } from 'vue-router'\r\nimport NavBar from '@/components/navbar/NavBar'\r\n\r\nconst router = useRouter()\r\nconst goBack = () => router.back()\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.nav-bar {\r\n  background-color: #fff;\r\n  color: #000;\r\n  &::after {\r\n    position: absolute;\r\n    box-sizing: border-box;\r\n    content: ' ';\r\n    pointer-events: none;\r\n    right: 0px;\r\n    bottom: 0;\r\n    left: 0px;\r\n    border-bottom: 0.5px solid #ebedf0;\r\n  }\r\n}\r\n\r\n.nav-center {\r\n  span {\r\n    font-size: 16px;\r\n  }\r\n}\r\n\r\n.nav-left {\r\n  display: flex;\r\n  justify-content: center;\r\n  i {\r\n    font-size: 30px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./NavBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NavBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=3711dac1&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3711dac1\"]])\n\nexport default __exports__","<template>\r\n  <card title=\"收货地址\">\r\n    <van-skeleton title avatar :row=\"2\" :loading=\"loading\">\r\n      <div v-if=\"addrData && defaultAddr\" class=\"address\">\r\n        <div class=\"left\">\r\n          <span class=\"iconfont icon-map\"></span>\r\n          <div>\r\n            <span>{{ defaultAddr.name }} </span>\r\n            <span>{{ defaultAddr.tel }}</span>\r\n            <p>{{ formatAddr }}</p>\r\n          </div>\r\n        </div>\r\n        <span class=\"iconfont icon-arrow-right\" @click=\"goAddress\"></span>\r\n      </div>\r\n      <div v-else class=\"selectAddr\" @click=\"goAddress\">\r\n        <div class=\"left\">\r\n          <span class=\"iconfont icon-tianjia\"></span>\r\n          <span>选择收货地址</span>\r\n        </div>\r\n        <span class=\"iconfont icon-arrow-right\"></span>\r\n      </div>\r\n    </van-skeleton>\r\n  </card>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { Card } from 'components'\r\nimport { updateOrderAddr } from '@/api/order'\r\n\r\nconst router = useRouter()\r\nconst goAddress = () =>\r\n  router.push({\r\n    path: '/address',\r\n    query: {\r\n      type: 'select'\r\n    }\r\n  })\r\n\r\nconst props = defineProps({\r\n  addrData: {\r\n    type: Object\r\n  },\r\n  orderId: String,\r\n  loading: Boolean\r\n})\r\n\r\nconst defaultAddr = computed(() => props.addrData.filter((element) => element.isDefault === true)[0])\r\nconst formatAddr = computed(() => {\r\n  const { province, city, county, addressDetail } = defaultAddr.value\r\n  return province + ' ' + city + ' ' + county + ' ' + addressDetail\r\n})\r\n\r\nif (props.addrData && defaultAddr.value) updateOrderAddr(props.orderId, defaultAddr.value.id)\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.address {\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  height: 70px;\r\n  padding: 5px 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  .left {\r\n    display: flex;\r\n    align-items: center;\r\n    & > div {\r\n      padding: 0 10px;\r\n      margin-left: 10px;\r\n      /* 当文本超过三行时自动变为省略号 */\r\n      text-overflow: -o-ellipsis-lastline;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      display: -webkit-box;\r\n      -webkit-line-clamp: 3;\r\n      line-clamp: 3;\r\n      -webkit-box-orient: vertical;\r\n      span:nth-child(1) {\r\n        text-align: center;\r\n        font-size: 24px;\r\n      }\r\n    }\r\n    & > div > span:nth-child(1) {\r\n      margin-right: 5px;\r\n      font-size: 22px;\r\n    }\r\n    & > div > p {\r\n      margin-top: 3px;\r\n    }\r\n  }\r\n}\r\n\r\n.icon-arrow-right {\r\n  font-size: 20px;\r\n  text-align: center;\r\n  width: 50px;\r\n  padding: 10px 0;\r\n}\r\n\r\n.selectAddr {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px;\r\n  .left {\r\n    .icon-tianjia {\r\n      display: inline-block;\r\n      width: 30px;\r\n      height: 30px;\r\n      background-color: $primary;\r\n      line-height: 30px;\r\n      border-radius: 2px;\r\n      margin-left: 10px;\r\n      font-size: 30px;\r\n      color: #fff;\r\n    }\r\n    span:nth-child(2) {\r\n      margin-left: 15px;\r\n      vertical-align: super;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./Address.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Address.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Address.vue?vue&type=style&index=0&id=4c8d92b0&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4c8d92b0\"]])\n\nexport default __exports__","import script from \"./GoodsInfo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GoodsInfo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GoodsInfo.vue?vue&type=style&index=0&id=d054235c&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d054235c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"footer\">\r\n    <div class=\"pay_one\">\r\n      合计:&nbsp;&nbsp;<span>￥</span><span>{{ getters['cart/totalPrice'] }}</span>\r\n    </div>\r\n    <div class=\"pay_two\">\r\n      <p @click=\"goPayment\">提交订单({{ getters['cart/selectedNumber'] }})</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useStore } from 'vuex'\r\nimport { Toast } from 'vant'\r\nimport { updateOrderStatus } from '@/api/order'\r\nimport { payment } from '@/api/pay.js'\r\n\r\nconst { state, getters, commit } = useStore()\r\ncommit('cart/INIT_SHOP_CART')\r\nconst names = []\r\nconst cartIds = []\r\nstate.cart.selectArr.forEach((element) => {\r\n  names.push(element.name)\r\n  cartIds.push(element.cartId)\r\n})\r\nconst props = defineProps({\r\n  orderId: String,\r\n  addr: Number\r\n})\r\nconst goPayment = async () => {\r\n  if (props.addr === 0) {\r\n    Toast('请先选择收货地址后再支付')\r\n    return\r\n  }\r\n  // 修改订单状态 未支付->待支付\r\n  const res = await updateOrderStatus(props.orderId, 2)\r\n  if (res.success) {\r\n    const dataOrder = {\r\n      orderId: parseInt(props.orderId),\r\n      // price: getters['cart/totalPrice'],\r\n      price: '0.1',\r\n      name: state.cart.selectArr[0].name,\r\n      // name: names,\r\n      returnUrl: process.env.NODE_ENV === 'development' ? 'http://localhost:8080' : 'http://106.52.197.60' // 支付成功后跳转的链接\r\n    }\r\n    const res = await payment(dataOrder)\r\n    if (res.success) {\r\n      //打开支付宝支付的页面\r\n      window.location.href = res.data.paymentUrl\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.footer {\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  height: 60px;\r\n  background-color: #fff;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0px 15px;\r\n  align-items: center;\r\n  box-shadow: 0 0 10px #ccc;\r\n}\r\n\r\n.pay_one {\r\n  & > span:nth-child(1) {\r\n    font-size: 15px;\r\n    color: $primary;\r\n  }\r\n  & > span:nth-child(2) {\r\n    font-size: 22px;\r\n    font-weight: bold;\r\n    color: $primary;\r\n  }\r\n}\r\n\r\n.pay_two {\r\n  padding: 0 5px;\r\n  height: 42px;\r\n  border-radius: 5px;\r\n  background-color: $primary;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  p {\r\n    color: #fff;\r\n    font-size: 17px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./Footer.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Footer.vue?vue&type=style&index=0&id=f1718330&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f1718330\"]])\n\nexport default __exports__","<template>\r\n  <card title=\"支付方式\">\r\n    <ul>\r\n      <li v-for=\"(item, index) in payMethod\" :key=\"index\" class=\"ctn-item\" @click=\"itemClick(index)\">\r\n        <div class=\"left\">\r\n          <i class=\"iconfont\" :class=\"item.icon\"></i>\r\n          <span>{{ item.name }}</span>\r\n        </div>\r\n        <div class=\"right\">\r\n          <i\r\n            class=\"iconfont icon-yuanxingweixuanzhong\"\r\n            :class=\"currentIndex === index ? 'icon-yuanxingxuanzhongfill' : ''\"\r\n          ></i>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </card>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, reactive } from 'vue'\r\nimport { Toast } from 'vant'\r\nimport { Card } from 'components'\r\n\r\nconst payMethod = reactive([\r\n  { id: 1, name: '微信支付', icon: 'icon-weixinzhifu wx' },\r\n  { id: 2, name: '支付宝支付', icon: 'icon-zhifubao zfb' },\r\n  { id: 3, name: '余额支付', icon: 'icon-yue ye' }\r\n])\r\n\r\n// const isCheck = ref(false)\r\n// const checkBtnClick = () => {\r\n//   isCheck.value = !isCheck.value\r\n// }\r\n\r\nconst currentIndex = ref(1)\r\nconst itemClick = (index) => {\r\n  currentIndex.value = index\r\n  if (index !== 1) {\r\n    Toast('暂时只支持支付宝支付')\r\n    // currentIndex.value = 1;\r\n    return\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.ctn-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: relative;\r\n  &:after {\r\n    position: absolute;\r\n    box-sizing: border-box;\r\n    content: ' ';\r\n    pointer-events: none;\r\n    right: 0px;\r\n    bottom: 0;\r\n    left: 0px;\r\n    border-bottom: 1px solid #f2f3f5;\r\n  }\r\n  &:nth-last-child(1)::after {\r\n    border-bottom: none;\r\n  }\r\n\r\n  .left {\r\n    height: 45px;\r\n    line-height: 45px;\r\n    i {\r\n      font-size: 20px;\r\n      vertical-align: middle;\r\n    }\r\n    img {\r\n      width: 30px;\r\n      height: 30px;\r\n      vertical-align: middle;\r\n    }\r\n    span {\r\n      vertical-align: initial;\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n  .right {\r\n    i {\r\n      font-size: 20px;\r\n    }\r\n  }\r\n}\r\n\r\n.wx {\r\n  color: #01ca00;\r\n}\r\n.zfb {\r\n  color: #039deb;\r\n}\r\n.ye {\r\n  color: #61be5f;\r\n}\r\n\r\n.icon-yuanxingxuanzhongfill {\r\n  color: $primary;\r\n}\r\n</style>\r\n","import script from \"./Payment.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Payment.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Payment.vue?vue&type=style&index=0&id=f4d6897c&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-f4d6897c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"layout\">\r\n    <NavBar></NavBar>\r\n    <scroll ref=\"scrollRef\" class=\"scroll\" :bounce=\"{ top: false, bottom: false }\">\r\n      <div v-if=\"!loading\">\r\n        <div class=\"content\">\r\n          <Address :addr-data=\"addr\" :order-id=\"orderId\" :loading=\"loading\"></Address>\r\n          <GoodsInfo :goods-list=\"goodsList\" :loading=\"loading\"></GoodsInfo>\r\n          <Payment></Payment>\r\n        </div>\r\n      </div>\r\n      <van-loading v-else type=\"spinner\" style=\"position: absolute; left: 50%; top: 40%; transform: translate(-50%)\">\r\n        正在拼命加载中…\r\n      </van-loading>\r\n    </scroll>\r\n    <Footer :order-id=\"orderId\" :addr=\"addr.length\"></Footer>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { Scroll } from 'components'\r\nimport { NavBar, Address, GoodsInfo, Footer, Payment } from './components'\r\nimport { addressList } from '@/api/address'\r\nimport { selectOrderById } from '@/api/order'\r\n\r\nconst routes = useRoute()\r\nconst orderId = routes.query.orderId\r\n\r\nconst addr = ref([])\r\nconst goodsList = ref([])\r\nconst loading = ref(true)\r\nonMounted(async () => {\r\n  const addressData = await addressList()\r\n  addr.value = addressData.data\r\n  // 查询订单\r\n  const res = await selectOrderById(orderId)\r\n  goodsList.value = JSON.parse(res.data.goods_info)\r\n  loading.value = false\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import script from \"./Order.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Order.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["addressList","data","request","url","createAddress","method","delAddress","id","updateAddr","user_id","country","setDefault","createOrder","orderList","query","status","updateOrderAddr","addrId","updateOrderStatus","selectOrderById","orderId","delOrders","router","useRouter","goBack","back","__exports__","goAddress","push","path","type","defaultAddr","computed","props","addrData","filter","element","isDefault","formatAddr","province","city","county","addressDetail","value","state","getters","commit","useStore","names","cartIds","cart","selectArr","forEach","name","cartId","goPayment","async","addr","res","success","dataOrder","parseInt","price","returnUrl","payment","window","location","href","paymentUrl","payMethod","reactive","icon","currentIndex","ref","itemClick","index","routes","useRoute","goodsList","loading","onMounted","addressData","JSON","parse","goods_info"],"sourceRoot":""}