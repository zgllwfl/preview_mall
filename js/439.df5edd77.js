"use strict";(self["webpackChunkmall"]=self["webpackChunkmall"]||[]).push([[439],{5707:function(a,e,s){s.r(e),s.d(e,{default:function(){return W}});var o=s(3396),t=s(4870),l=s(8371),n=(s(767),s(7619)),r=s(9242),u=s(678),i=s(65),m=s(9176),c=s(4620);const d={class:"login-name"};var p={props:{formData:{type:Object}},setup(a,{expose:e}){const s=a,l=()=>(0,m._D)(s.formData);return e({validate:l}),(e,s)=>((0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)((0,t.SU)(c.Z),{modelValue:a.formData.username,"onUpdate:modelValue":s[0]||(s[0]=e=>a.formData.username=e),modelModifiers:{trim:!0},placeholder:"QQ邮箱"},null,8,["modelValue"]),(0,o.Wm)((0,t.SU)(c.Z),{modelValue:a.formData.password,"onUpdate:modelValue":s[1]||(s[1]=e=>a.formData.password=e),modelModifiers:{trim:!0},placeholder:"输入密码",type:"password"},null,8,["modelValue"])]))}};const f=p;var v=f,w=s(502),k=s(9489),g=s(2900);const y={class:"login"},U={class:"login-bottom"},_=(0,o.Uk)(" | "),C=(0,o.Uk)(" | ");var D={setup(a){const e=(0,t.qj)({type:"3",username:"",verifyCode:"",password:""}),s=(0,u.yj)(),l=(0,u.tv)(),m=(0,i.oR)(),c=(0,t.iH)(null),d=(0,t.iH)(null),p=(0,t.iH)(!0),f=()=>p.value=!p.value,D=async a=>{if(a){if(d.value.validate()){const a=(0,k.H)(e.password),s=Object.assign({},e);s.password=a;const o=await(0,g.lx)(s);o?.success&&((0,n.Z)(o.msg),m.commit("user/setToken",o.data),l.push("/account"))}}else if(c.value.validate()){const a=(0,k.H)(e.verifyCode),s=Object.assign({},e);s.verifyCode=a;const o=await(0,g.pH)(s);o?.success&&((0,n.Z)(o.msg),m.commit("user/setToken",o.data),l.push("/account"))}};s.params?.username&&(e.username=s.params.username);const h=()=>l.push("/resetPassword"),b=()=>l.push("/register");return(a,s)=>((0,o.wg)(),(0,o.iD)("div",y,[(0,o.wy)((0,o.Wm)((0,t.SU)(v),{ref_key:"nameLoginRef",ref:d,"form-data":(0,t.SU)(e)},null,8,["form-data"]),[[r.F8,p.value]]),(0,o.wy)((0,o.Wm)((0,t.SU)(w.Z),{ref_key:"smsLoginRef",ref:c,"form-data":(0,t.SU)(e)},null,8,["form-data"]),[[r.F8,!p.value]]),(0,o._)("button",{class:"common-btn",onClick:s[0]||(s[0]=a=>D(p.value))},"登录"),(0,o._)("div",U,[(0,o.wy)((0,o._)("div",null,[(0,o._)("span",{onClick:f},"验证码登录"),_,(0,o._)("span",{onClick:h},"忘记密码"),C,(0,o._)("span",{onClick:b},"快速注册")],512),[[r.F8,p.value]]),(0,o.wy)((0,o._)("span",{onClick:f},"密码登录",512),[[r.F8,!p.value]])])]))}},h=s(89);const b=(0,h.Z)(D,[["__scopeId","data-v-5216ead9"]]);var S=b;const Z={class:"login-container"};var H={setup(a){return(a,e)=>((0,o.wg)(),(0,o.iD)("div",Z,[(0,o.Wm)((0,t.SU)(l.Z),{title:"用户登录"}),(0,o.Wm)((0,t.SU)(S))]))}};const V=H;var W=V}}]);
//# sourceMappingURL=439.df5edd77.js.map