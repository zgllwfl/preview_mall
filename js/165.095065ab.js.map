{"version":3,"file":"js/165.095065ab.js","mappings":"oUAgBA,MAAMA,GAASC,EAAAA,EAAAA,MACTC,GAAaC,EAAAA,EAAAA,IAAS,CAC1BC,aAAc,EACdC,KAAM,CACJ,CAAEC,UAAWN,EAAOO,MAAMC,IAAKC,KAAM,KAAMD,IAAK,MAChD,CAAEF,UAAWN,EAAOO,MAAMC,IAAKC,KAAM,KAAMC,KAAM,EAAGF,IAAK,SACzD,CAAEF,UAAWN,EAAOO,MAAMC,IAAKC,KAAM,KAAMC,KAAM,EAAGF,IAAK,YAIvDG,GAAUC,EAAAA,EAAAA,KAAS,KACvB,MAAMC,EAAMX,EAAWG,KAAKH,EAAWE,cAEjCU,EAAkB,KAAZD,EAAIH,KAAc,MAAQ,OACtC,MAAO,CACLF,IAAK,CAACK,EAAIL,KAAK,GACfO,MAAOD,MAMLE,EAAaC,IACjBf,EAAWE,aAAea,EAE1B,MAAMC,EAAOhB,EAAWG,KAAKY,GAE7Bf,EAAWG,KAAKc,SAAQ,CAACL,EAAKM,KACxBA,GAAKH,IACPH,EAAIJ,KAAO,MAIfQ,EAAKR,KAAOO,IAAUf,EAAWE,aAA8B,IAAdc,EAAKR,KAAa,EAAI,EAAK,GAE5EW,EAAM,iBAAkBV,EAAQI,Q,shBC7ClC,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,oXCuBA,MAAMC,GAASC,EAAAA,EAAAA,MACTC,EAAcC,IAClBH,EAAOI,KAAK,CACVC,KAAM,UACNrB,MAAO,CACLmB,GAAAA,M,kmBC9BN,MAAMJ,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,4ECPOO,MAAM,W,GACJA,MAAM,Y,GACNA,MAAM,c,WAAiC,M,GACvCA,MAAM,a,kCAHbC,EAAAA,EAAAA,IAIM,MAJN,EAIM,EAHJC,EAAAA,EAAAA,GAAqD,MAArD,EAAqD,EAA/BC,EAAAA,EAAAA,IAAyBC,EAAAA,OAAA,eAAAC,GAAA,MAC/CH,EAAAA,EAAAA,GAA2D,MAA3D,EAA2D,EAAnCC,EAAAA,EAAAA,IAA6BC,EAAAA,OAAA,aAA7B,IAA6B,MAA7B,MACxBF,EAAAA,EAAAA,GAAuD,MAAvD,EAAuD,EAAhCC,EAAAA,EAAAA,IAA0BC,EAAAA,OAAA,gBAAAC,GAAA,O,YCHrD,MAAMC,EAAS,GAKTb,GAA2B,OAAgBa,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S,wSCSA,MAAMb,GAASC,EAAAA,EAAAA,MACTa,EAAS,IAAMd,EAAOe,O,8MCZ5B,MAAMhB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,wCCHO,MAAMiB,EAAgB,CAACb,EAAIc,KACzBC,EAAAA,EAAAA,GAAQ,CACbC,IAAM,mBAAkBhB,IACxBiB,OAAQ,CACNhC,QAAS6B,EACTI,SAAU,M,qPCgBhB,MAAMC,GAAQ5C,EAAAA,EAAAA,MACRyB,EAAKmB,EAAMF,OAAOjB,GAClBoB,GAAgBC,EAAAA,EAAAA,IAAIF,EAAMF,OAAOnC,KACjCwC,GAAcD,EAAAA,EAAAA,IAAI,IAClBE,GAAUF,EAAAA,EAAAA,KAAI,GACdG,EAAmBC,MAAOzB,EAAIc,KAClC,MAAM,KAAEnC,SAAekC,EAAcb,EAAIc,GACzCQ,EAAYjC,MAAQV,EAAK+C,KACzBH,EAAQlC,OAAQ,GAElBmC,EAAiBxB,GAEjB,MAAM2B,GAAcN,EAAAA,EAAAA,MACdO,EAAkBC,IACtBF,EAAYtC,MAAQwC,G,OAGtBC,EAAAA,EAAAA,KACE,IAAMH,EAAYtC,QACjBA,IACCmC,EAAiBxB,EAAIX,M,gnBCxCzB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://mall/./src/components/filter/Filter.vue","webpack://mall/./src/components/filter/Filter.vue?9447","webpack://mall/./src/components/list/CardList.vue","webpack://mall/./src/components/list/CardList.vue?ec81","webpack://mall/./src/components/navbar/NavBar.vue","webpack://mall/./src/components/navbar/NavBar.vue?8cd3","webpack://mall/./src/views/category/components/DetailNavBar.vue","webpack://mall/./src/views/category/components/DetailNavBar.vue?7961","webpack://mall/./src/api/category.js","webpack://mall/./src/views/category/CategoryDetail.vue","webpack://mall/./src/views/category/CategoryDetail.vue?701e"],"sourcesContent":["<template>\r\n  <div class=\"query-bar border-1px\">\r\n    <div v-for=\"(item, index) in searchList.data\" :key=\"index\" class=\"query-bar-item\" @click=\"changeTab(index)\">\r\n      <span :class=\"searchList.currentIndex === index ? 'active' : ' '\">{{ item.name }}</span>\r\n      <div v-show=\"index !== 0\" class=\"query-bar-item-arrow\">\r\n        <i class=\"iconfont icon-arrow-up\" :class=\"item.sort === 1 ? 'active' : ''\"></i>\r\n        <i class=\"iconfont icon-arrow-down\" :class=\"item.sort === 2 ? 'active' : ''\"></i>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, computed } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\n\r\nconst routes = useRoute()\r\nconst searchList = reactive({\r\n  currentIndex: 0,\r\n  data: [\r\n    { searchKey: routes.query.key, name: '综合', key: 'id' },\r\n    { searchKey: routes.query.key, name: '价格', sort: 0, key: 'price' },\r\n    { searchKey: routes.query.key, name: '销量', sort: 0, key: 'sales' }\r\n  ]\r\n})\r\n\r\nconst orderBy = computed(() => {\r\n  const obj = searchList.data[searchList.currentIndex]\r\n  //判断是升序还是降序\r\n  const val = obj.sort == '1' ? 'asc' : 'desc'\r\n  return {\r\n    key: [obj.key][0],\r\n    value: val\r\n  }\r\n})\r\n\r\nconst emits = defineEmits(['getFilterParam'])\r\n\r\nconst changeTab = (index) => {\r\n  searchList.currentIndex = index\r\n  //点击的下标对应数据的哪一个\r\n  const item = searchList.data[index]\r\n  //取消所有的状态值===》都变成0\r\n  searchList.data.forEach((val, i) => {\r\n    if (i != index) {\r\n      val.sort = 0\r\n    }\r\n  })\r\n  //当前点击的改变状态\r\n  item.sort = index === searchList.currentIndex ? (item.sort === 1 ? 2 : 1) : ''\r\n  //发送请求进行数据排序\r\n  emits('getFilterParam', orderBy.value)\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.query-bar {\r\n  z-index: 1000;\r\n  background-color: #fff;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 10px 13px;\r\n  .query-bar-item {\r\n    align-items: center;\r\n    color: #222;\r\n    display: flex;\r\n    font-size: 15px;\r\n    .query-bar-item-arrow {\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: center;\r\n      height: 8px;\r\n      line-height: 8px;\r\n      margin-left: 5px;\r\n      font-weight: 600;\r\n    }\r\n  }\r\n}\r\n\r\n.active {\r\n  color: $primary;\r\n}\r\n</style>\r\n","import script from \"./Filter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Filter.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Filter.vue?vue&type=style&index=0&id=eddfb094&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-eddfb094\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"card-list-container\">\r\n    <div v-for=\"item in productData\" :key=\"item.Id\" class=\"goods-item\" @click=\"goToDetail(item.id)\">\r\n      <div class=\"goods-img-container\">\r\n        <!-- <img class=\"goods-img\" alt=\"\" :src=\"item.goods_img\" /> -->\r\n        <img v-lazy=\"item.goods_img\" class=\"goods-img\" alt=\"\" />\r\n        <span v-show=\"item.Slogan\" class=\"goods-slogan\">\r\n          {{ item.Slogan }}\r\n        </span>\r\n      </div>\r\n      <div class=\"goods-info\">\r\n        <h3 class=\"goods-title\">{{ item.goods_name }}</h3>\r\n        <div class=\"goods-price\">\r\n          <span>{{ item.price }}</span>\r\n          <span class=\"old-price\">￥{{ item.old_price }}</span>\r\n        </div>\r\n        <div class=\"sale-num\">已售{{ item.sales }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRouter } from 'vue-router'\r\n\r\ndefineProps({\r\n  productData: {\r\n    type: Array\r\n  }\r\n})\r\n\r\nconst router = useRouter()\r\nconst goToDetail = (id) => {\r\n  router.push({\r\n    path: '/detail',\r\n    query: {\r\n      id\r\n    }\r\n  })\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.card-list-container {\r\n  padding: 5px 10px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n  .goods-item {\r\n    width: calc(50% - 5px);\r\n    background-color: #fff;\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-top: 10px;\r\n    position: relative;\r\n    .goods-img-container {\r\n      position: relative;\r\n      width: 100%;\r\n      .goods-img {\r\n        height: 100%;\r\n        width: 100%;\r\n        display: block;\r\n      }\r\n      .goods-slogan {\r\n        background-color: rgba(0, 0, 0, 0.3);\r\n        bottom: 0;\r\n        color: #fff;\r\n        font-size: 12.5px;\r\n        height: 22.5px;\r\n        left: 0;\r\n        line-height: 22.5px;\r\n        overflow: hidden;\r\n        position: absolute;\r\n        text-align: center;\r\n        text-overflow: ellipsis;\r\n        width: 100%;\r\n        word-break: break-all;\r\n      }\r\n    }\r\n    .goods-info {\r\n      padding: 5px;\r\n      .goods-title {\r\n        font-size: 14px;\r\n        line-height: 1.6;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        word-break: break-all;\r\n      }\r\n      .goods-price {\r\n        align-items: flex-end;\r\n        color: $primary;\r\n        display: flex;\r\n        font-size: 17px;\r\n        margin-top: 5px;\r\n        &:before {\r\n          content: '￥';\r\n          font-size: 14px;\r\n          font-weight: 400;\r\n        }\r\n        .old-price {\r\n          font-size: 12.5px;\r\n          margin-left: 5px;\r\n          text-decoration: line-through;\r\n          color: rgb(153, 153, 153);\r\n        }\r\n      }\r\n      .sale-num {\r\n        color: #999;\r\n        font-size: 12.5px;\r\n        margin-top: 3px;\r\n        padding-left: 3px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./CardList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CardList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CardList.vue?vue&type=style&index=0&id=67424e60&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-67424e60\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"nav-bar\">\r\n    <div class=\"nav-left\"><slot name=\"left\"></slot></div>\r\n    <div class=\"nav-center\"><slot name=\"center\">标题</slot></div>\r\n    <div class=\"nav-right\"><slot name=\"right\"></slot></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup></script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.nav-bar {\r\n  position: relative;\r\n  z-index: 10;\r\n  display: flex;\r\n  height: 44px;\r\n  line-height: 44px;\r\n  text-align: center;\r\n  color: #444;\r\n  background-color: #fff;\r\n}\r\n\r\n.nav-left {\r\n  width: 44px;\r\n}\r\n\r\n.nav-center {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex: 1;\r\n}\r\n\r\n.nav-right {\r\n  width: 44px;\r\n}\r\n</style>\r\n","import { render } from \"./NavBar.vue?vue&type=template&id=6887fa4f&scoped=true\"\nconst script = {}\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=6887fa4f&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6887fa4f\"]])\n\nexport default __exports__","<template>\r\n  <nav-bar>\r\n    <template #left>\r\n      <div class=\"nav-left\" @click=\"goBack\">\r\n        <i class=\"iconfont icon-arrow-left\"></i>\r\n      </div>\r\n    </template>\r\n    <template #center>\r\n      <span>{{ title }}</span>\r\n    </template>\r\n  </nav-bar>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRouter } from 'vue-router'\r\nimport NavBar from 'components/navbar/NavBar'\r\n\r\nconst router = useRouter()\r\nconst goBack = () => router.back()\r\n\r\ndefineProps({\r\n  title: {\r\n    type: undefined // 不校验\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.nav-bar {\r\n  background-color: rgb(255, 255, 255);\r\n  color: #222;\r\n  .nav-center {\r\n    span {\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n.nav-left {\r\n  display: flex;\r\n  justify-content: center;\r\n  i {\r\n    font-size: 30px;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./DetailNavBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DetailNavBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DetailNavBar.vue?vue&type=style&index=0&id=82b18708&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-82b18708\"]])\n\nexport default __exports__","import request from '@/utils/request'\r\n\r\n/**\r\n * 获取商品详情\r\n */\r\nexport const goodscategory = (id, filters) => {\r\n  return request({\r\n    url: `/goods/category/${id}`,\r\n    params: {\r\n      orderBy: filters,\r\n      pageSize: 50\r\n    }\r\n  })\r\n}\r\n","<template>\r\n  <nav-bar :title=\"categoryTitle\"></nav-bar>\r\n  <div v-if=\"!loading\">\r\n    <Filter @getFilterParam=\"getFilterParam\"></Filter>\r\n    <scroll class=\"scroll\" :bounce=\"{ top: false, bottom: false }\">\r\n      <category-list v-if=\"productData.length\" :product-data=\"productData\"></category-list>\r\n      <div v-else class=\"s_null\">\r\n        <p class=\"tip\">抱歉！暂无相关商品</p>\r\n        <p class=\"small\">换个分类试试吧～</p>\r\n      </div>\r\n    </scroll>\r\n  </div>\r\n  <van-loading v-else type=\"spinner\" style=\"position: absolute; left: 50%; top: 40%; transform: translate(-50%)\">\r\n    正在拼命加载中…\r\n  </van-loading>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport NavBar from './components/DetailNavBar'\r\nimport Filter from 'components/filter/Filter'\r\nimport Scroll from 'components/scroll/Scroll'\r\nimport CategoryList from 'components/list/CardList'\r\nimport { goodscategory } from '@/api/category'\r\n\r\nconst route = useRoute()\r\nconst id = route.params.id\r\nconst categoryTitle = ref(route.params.key)\r\nconst productData = ref([])\r\nconst loading = ref(true)\r\nconst getGoodscategory = async (id, filters) => {\r\n  const { data } = await goodscategory(id, filters)\r\n  productData.value = data.list\r\n  loading.value = false\r\n}\r\ngetGoodscategory(id)\r\n\r\nconst filterParam = ref()\r\nconst getFilterParam = (param) => {\r\n  filterParam.value = param\r\n}\r\n\r\nwatch(\r\n  () => filterParam.value,\r\n  (value) => {\r\n    getGoodscategory(id, value)\r\n  }\r\n)\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll {\r\n  top: 80px;\r\n  bottom: 0;\r\n}\r\n\r\n.s_null {\r\n  margin-top: 50%;\r\n  padding: 10px;\r\n  // color: #999;\r\n  text-align: center;\r\n  .tip {\r\n    line-height: 1;\r\n    text-align: center;\r\n    margin-bottom: 15px;\r\n    font-size: 16px;\r\n    color: #333;\r\n  }\r\n  .small {\r\n    font-size: 14px;\r\n    color: #999;\r\n  }\r\n}\r\n</style>\r\n","import script from \"./CategoryDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CategoryDetail.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CategoryDetail.vue?vue&type=style&index=0&id=3db8bdd0&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\面试\\\\源码\\\\mall\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3db8bdd0\"]])\n\nexport default __exports__"],"names":["routes","useRoute","searchList","reactive","currentIndex","data","searchKey","query","key","name","sort","orderBy","computed","obj","val","value","changeTab","index","item","forEach","i","emits","__exports__","router","useRouter","goToDetail","id","push","path","class","_createElementBlock","_createElementVNode","_renderSlot","_ctx","undefined","script","render","goBack","back","goodscategory","filters","request","url","params","pageSize","route","categoryTitle","ref","productData","loading","getGoodscategory","async","list","filterParam","getFilterParam","param","watch"],"sourceRoot":""}