"use strict";(self["webpackChunkmall"]=self["webpackChunkmall"]||[]).push([[165],{1221:function(a,t,s){s.d(t,{Z:function(){return _}});var e=s(3396),n=s(4870),r=s(7139),o=s(9242),l=s(678);const c={class:"query-bar border-1px"},i=["onClick"],d={class:"query-bar-item-arrow"};var u={emits:["getFilterParam"],setup(a,{emit:t}){const s=(0,l.yj)(),u=(0,n.qj)({currentIndex:0,data:[{searchKey:s.query.key,name:"综合",key:"id"},{searchKey:s.query.key,name:"价格",sort:0,key:"price"},{searchKey:s.query.key,name:"销量",sort:0,key:"sales"}]}),v=(0,e.Fl)((()=>{const a=u.data[u.currentIndex],t="1"==a.sort?"asc":"desc";return{key:[a.key][0],value:t}})),p=a=>{u.currentIndex=a;const s=u.data[a];u.data.forEach(((t,s)=>{s!=a&&(t.sort=0)})),s.sort=a===u.currentIndex?1===s.sort?2:1:"",t("getFilterParam",v.value)};return(a,t)=>((0,e.wg)(),(0,e.iD)("div",c,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)((0,n.SU)(u).data,((a,t)=>((0,e.wg)(),(0,e.iD)("div",{key:t,class:"query-bar-item",onClick:a=>p(t)},[(0,e._)("span",{class:(0,r.C_)((0,n.SU)(u).currentIndex===t?"active":" ")},(0,r.zw)(a.name),3),(0,e.wy)((0,e._)("div",d,[(0,e._)("i",{class:(0,r.C_)(["iconfont icon-arrow-up",1===a.sort?"active":""])},null,2),(0,e._)("i",{class:(0,r.C_)(["iconfont icon-arrow-down",2===a.sort?"active":""])},null,2)],512),[[o.F8,0!==t]])],8,i)))),128))]))}},v=s(89);const p=(0,v.Z)(u,[["__scopeId","data-v-eddfb094"]]);var _=p},6367:function(a,t,s){s.d(t,{Z:function(){return m}});var e=s(3396),n=s(7139),r=s(9242),o=s(678);const l={class:"card-list-container"},c=["onClick"],i={class:"goods-img-container"},d={class:"goods-img",alt:""},u={class:"goods-info"},v={class:"goods-title"},p={class:"goods-price"},_={class:"old-price"},y={class:"sale-num"};var g={props:{productData:{type:Array}},setup(a){const t=(0,o.tv)(),s=a=>{t.push({path:"/detail",query:{id:a}})};return(t,o)=>{const g=(0,e.Q2)("lazy");return(0,e.wg)(),(0,e.iD)("div",l,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(a.productData,(a=>((0,e.wg)(),(0,e.iD)("div",{key:a.Id,class:"goods-item",onClick:t=>s(a.id)},[(0,e._)("div",i,[(0,e.wy)((0,e._)("img",d,null,512),[[g,a.goods_img]]),(0,e.wy)((0,e._)("span",{class:"goods-slogan"},(0,n.zw)(a.Slogan),513),[[r.F8,a.Slogan]])]),(0,e._)("div",u,[(0,e._)("h3",v,(0,n.zw)(a.goods_name),1),(0,e._)("div",p,[(0,e._)("span",null,(0,n.zw)(a.price),1),(0,e._)("span",_,"￥"+(0,n.zw)(a.old_price),1)]),(0,e._)("div",y,"已售"+(0,n.zw)(a.sales),1)])],8,c)))),128))])}}},w=s(89);const f=(0,w.Z)(g,[["__scopeId","data-v-67424e60"]]);var m=f},6899:function(a,t,s){s.d(t,{Z:function(){return p}});var e=s(3396);const n={class:"nav-bar"},r={class:"nav-left"},o={class:"nav-center"},l=(0,e.Uk)("标题"),c={class:"nav-right"};function i(a,t){return(0,e.wg)(),(0,e.iD)("div",n,[(0,e._)("div",r,[(0,e.WI)(a.$slots,"left",{},void 0,!0)]),(0,e._)("div",o,[(0,e.WI)(a.$slots,"center",{},(()=>[l]),!0)]),(0,e._)("div",c,[(0,e.WI)(a.$slots,"right",{},void 0,!0)])])}var d=s(89);const u={},v=(0,d.Z)(u,[["render",i],["__scopeId","data-v-6887fa4f"]]);var p=v},6841:function(a,t,s){s.r(t),s.d(t,{default:function(){return U}});var e=s(3396),n=s(4870),r=s(678),o=s(7139),l=s(6899);const c=a=>((0,e.dD)("data-v-82b18708"),a=a(),(0,e.Cn)(),a),i=c((()=>(0,e._)("i",{class:"iconfont icon-arrow-left"},null,-1))),d=[i];var u={props:{title:{type:void 0}},setup(a){const t=(0,r.tv)(),s=()=>t.back();return(t,r)=>((0,e.wg)(),(0,e.j4)((0,n.SU)(l.Z),null,{left:(0,e.w5)((()=>[(0,e._)("div",{class:"nav-left",onClick:s},d)])),center:(0,e.w5)((()=>[(0,e._)("span",null,(0,o.zw)(a.title),1)])),_:1}))}},v=s(89);const p=(0,v.Z)(u,[["__scopeId","data-v-82b18708"]]);var _=p,y=s(1221),g=s(9877),w=s(6367),f=s(4471);const m=(a,t)=>(0,f.Z)({url:`/goods/category/${a}`,params:{orderBy:t,pageSize:50}}),k=a=>((0,e.dD)("data-v-3db8bdd0"),a=a(),(0,e.Cn)(),a),b={key:0},D={key:1,class:"s_null"},I=k((()=>(0,e._)("p",{class:"tip"},"抱歉！暂无相关商品",-1))),h=k((()=>(0,e._)("p",{class:"small"},"换个分类试试吧～",-1))),Z=[I,h],C=(0,e.Uk)(" 正在拼命加载中… ");var S={setup(a){const t=(0,r.yj)(),s=t.params.id,o=(0,n.iH)(t.params.key),l=(0,n.iH)([]),c=(0,n.iH)(!0),i=async(a,t)=>{const{data:s}=await m(a,t);l.value=s.list,c.value=!1};i(s);const d=(0,n.iH)(),u=a=>{d.value=a};return(0,e.YP)((()=>d.value),(a=>{i(s,a)})),(a,t)=>{const s=(0,e.up)("van-loading");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)((0,n.SU)(_),{title:o.value},null,8,["title"]),c.value?((0,e.wg)(),(0,e.j4)(s,{key:1,type:"spinner",style:{position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)"}},{default:(0,e.w5)((()=>[C])),_:1})):((0,e.wg)(),(0,e.iD)("div",b,[(0,e.Wm)((0,n.SU)(y.Z),{onGetFilterParam:u}),(0,e.Wm)((0,n.SU)(g.Z),{class:"scroll",bounce:{top:!1,bottom:!1}},{default:(0,e.w5)((()=>[l.value.length?((0,e.wg)(),(0,e.j4)((0,n.SU)(w.Z),{key:0,"product-data":l.value},null,8,["product-data"])):((0,e.wg)(),(0,e.iD)("div",D,Z))])),_:1})]))],64)}}};const z=(0,v.Z)(S,[["__scopeId","data-v-3db8bdd0"]]);var U=z}}]);
//# sourceMappingURL=165.095065ab.js.map