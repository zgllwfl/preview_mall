"use strict";(self["webpackChunkmall"]=self["webpackChunkmall"]||[]).push([[679],{2131:function(t,i,n){n.d(i,{Z:function(){return D}});n(6699);var e=n(3396),a=n(4870),c=n(7139),s=n(65),o=n(678);const r={class:"tabbar"};function l(t,i){return(0,e.wg)(),(0,e.iD)("div",r,[(0,e.WI)(t.$slots,"default",{},void 0,!0)])}var p=n(89);const g={},m=(0,p.Z)(g,[["render",l],["__scopeId","data-v-3e341c93"]]);var d=m,u=n(9242);const v={class:"item-icon"},h={class:"item-active-icon"};var _={props:{link:{type:String,required:!0}},setup(t){const i=t,n=(0,o.tv)(),s=()=>{n.replace(i.link)},r=(0,o.yj)(),l=(0,e.Fl)((()=>-1!==r.path.indexOf(i.link)));return(t,i)=>((0,e.wg)(),(0,e.iD)("div",{class:"tab-bar-item",onClick:s},[(0,e.wy)((0,e._)("div",v,[(0,e.WI)(t.$slots,"icon")],512),[[u.F8,!(0,a.SU)(l)]]),(0,e.wy)((0,e._)("div",h,[(0,e.WI)(t.$slots,"active-icon")],512),[[u.F8,(0,a.SU)(l)]]),(0,e._)("div",{class:(0,c.C_)(["item-text",(0,a.SU)(l)?"active":""])},[(0,e.WI)(t.$slots,"text")],2)]))}};const f=_;var w=f;const b=["src"],x=["src"],y=["src"],k=["src"];var S={setup(t){const i=(0,a.qj)([{id:1,icon:n(9537),activeIcon:n(996),text:"首页",to:"home"},{id:2,icon:n(4166),activeIcon:n(1488),text:"分类",to:"category"},{id:3,icon:n(782),activeIcon:n(7870),text:"购物车",to:"cart"},{id:4,icon:n(8561),activeIcon:n(5120),text:"我的",to:"account"}]),{state:r,dispatch:l,getters:p}=(0,s.oR)(),g=(0,o.yj)();(0,e.bv)((async()=>{const t=p.token,i=g.path;t&&!["/home","/category"].includes(i)&&l("cart/getCartList")}));const m=(0,e.Fl)((()=>r.cart.cartCount));return(t,n)=>{const s=(0,e.up)("van-badge");return(0,e.wg)(),(0,e.j4)((0,a.SU)(d),null,{default:(0,e.w5)((()=>[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)((0,a.SU)(i),(t=>((0,e.wg)(),(0,e.j4)((0,a.SU)(w),{key:t.id,link:t.to},{icon:(0,e.w5)((()=>[3===t.id?((0,e.wg)(),(0,e.j4)(s,{key:0,content:(0,a.SU)(m)?(0,a.SU)(m):"",max:"99"},{default:(0,e.w5)((()=>[(0,e._)("img",{src:t.icon,alt:""},null,8,b)])),_:2},1032,["content"])):((0,e.wg)(),(0,e.iD)("img",{key:1,src:t.icon,alt:""},null,8,x))])),"active-icon":(0,e.w5)((()=>[3===t.id?((0,e.wg)(),(0,e.j4)(s,{key:0,content:(0,a.SU)(m)?(0,a.SU)(m):"",max:"99"},{default:(0,e.w5)((()=>[(0,e._)("img",{src:t.activeIcon,alt:""},null,8,y)])),_:2},1032,["content"])):((0,e.wg)(),(0,e.iD)("img",{key:1,src:t.activeIcon,alt:""},null,8,k))])),text:(0,e.w5)((()=>[(0,e._)("span",null,(0,c.zw)(t.text),1)])),_:2},1032,["link"])))),128))])),_:1})}}};const U=S;var D=U},3679:function(t,i,n){n.r(i),n.d(i,{default:function(){return V}});var e=n(3396),a=n(4870),c=n(2131),s=n(7139),o=n(9242),r=n(678);const l=t=>((0,e.dD)("data-v-6302ce0c"),t=t(),(0,e.Cn)(),t),p={class:"user-info"},g=l((()=>(0,e._)("div",{class:"avatar"},[(0,e._)("img",{src:"https://img.zcool.cn/community/01629f5b10ec78a801202e6090eb63.png?x-oss-process=image/auto-orient,1",alt:""})],-1))),m={class:"nickname"},d=l((()=>(0,e._)("div",{class:"profile"},[(0,e._)("span",{style:{"font-size":"20px"},class:"iconfont icon-arrow-right"})],-1)));var u={props:{username:String,loginState:Boolean},setup(t){const i=(0,r.tv)();return(n,c)=>((0,e.wg)(),(0,e.iD)("div",p,[g,(0,e._)("div",m,[(0,e.wy)((0,e._)("span",null,"用户"+(0,s.zw)(t.username),513),[[o.F8,t.loginState]]),(0,e.wy)((0,e._)("span",{onClick:c[0]||(c[0]=t=>(0,a.SU)(i).push("/login"))},"登录/注册",512),[[o.F8,!t.loginState]])]),d]))}},v=n(89);const h=(0,v.Z)(u,[["__scopeId","data-v-6302ce0c"]]);var _=h,f=(n(767),n(7619)),w=n(7247);const b={class:"order-menu"},x=["onClick"],y={class:"item-icon"},k=["src"],S={class:"item-text"};var U={setup(t){const i=(0,a.qj)([{id:1,name:"待付款",img:"https://s3.bmp.ovh/imgs/2022/06/10/b7368a5725410bf6.png",path:"/myOrder"},{id:2,name:"待发货",img:"https://s3.bmp.ovh/imgs/2022/06/10/1c384f338beba485.png",path:"/myOrder"},{id:3,name:"待收货",img:"https://s3.bmp.ovh/imgs/2022/06/10/69a7d6f41ac3b2c5.png",path:"/myOrder"},{id:4,name:"待评价",img:"https://s3.bmp.ovh/imgs/2022/06/10/bd5690486088fa1f.png",path:"/myOrder"},{id:5,name:"退款/售后",img:"https://s3.bmp.ovh/imgs/2022/06/10/f6a6ac91a5c3beba.png",path:"/myOrder"}]),n=(0,r.tv)(),c=(0,w.rV)("token"),o=t=>{c?t?n.push(t):(0,f.Z)("暂未开发"):n.push("/login")};return(t,n)=>((0,e.wg)(),(0,e.iD)("div",b,[(0,e._)("ul",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)((0,a.SU)(i),(t=>((0,e.wg)(),(0,e.iD)("li",{key:t.id,class:"order-menu-item",onClick:i=>o(t.path)},[(0,e._)("div",y,[(0,e._)("img",{src:t.img,alt:""},null,8,k)]),(0,e._)("div",S,[(0,e._)("h2",null,(0,s.zw)(t.name),1)])],8,x)))),128))])]))}};const D=(0,v.Z)(U,[["__scopeId","data-v-6236d57b"]]);var I=D,C=n(65);const j={class:"list-view"},Z=["onClick"],F={class:"item-icon"},T={class:"item-text"},W={class:"item-right"};var z={setup(t){const i=(0,a.qj)([{id:1,name:"地址管理",icon:"icon-map",rightText:"",path:"/address"},{id:2,name:"用户权益",icon:"icon-vip",rightText:"签到送积分",path:""},{id:3,name:"积分商城",icon:"icon-gift",rightText:"",path:""},{id:4,name:"帮助中心",icon:"icon-help",rightText:"",path:""},{id:5,name:"设置",icon:"icon-set",rightText:"修改密码",path:"/resetPassword"},{id:6,name:"关于",icon:"icon-prompt",rightText:"",path:""},{id:7,name:"退出登录",icon:"icon-switch",rightText:"",path:"/login"}]),n=(0,r.tv)(),c=(0,C.oR)(),o=t=>7!==t.id?t.path?n.push(t.path):(0,f.Z)({message:"暂未开发",duration:500}):c.commit("user/loginOut");return(t,n)=>((0,e.wg)(),(0,e.iD)("div",j,[(0,e._)("ul",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)((0,a.SU)(i),(t=>((0,e.wg)(),(0,e.iD)("li",{key:t.id,class:"list-view-item",onClick:i=>o(t)},[(0,e._)("div",F,[(0,e._)("i",{class:(0,s.C_)(["iconfont",t.icon])},null,2)]),(0,e._)("div",T,(0,s.zw)(t.name),1),(0,e._)("div",W,(0,s.zw)(t.rightText),1)],8,Z)))),128))])]))}};const O=(0,v.Z)(z,[["__scopeId","data-v-8c048116"]]);var q=O;const H=t=>((0,e.dD)("data-v-5caa7e4b"),t=t(),(0,e.Cn)(),t),Y=H((()=>(0,e._)("header",{class:"header"},[(0,e._)("span",null,"个人中心")],-1))),$={class:"account"};var K={setup(t){const i=(0,w.rV)("user_info"),n=(0,e.Fl)((()=>i?.username||"热心市民李先生")),s=(0,e.Fl)((()=>i?.loginStatus));return(t,i)=>((0,e.wg)(),(0,e.iD)(e.HY,null,[Y,(0,e._)("div",$,[(0,e.Wm)((0,a.SU)(_),{username:(0,a.SU)(n),"login-state":(0,a.SU)(s)},null,8,["username","login-state"]),(0,e.Wm)((0,a.SU)(I)),(0,e.Wm)((0,a.SU)(q))]),(0,e.Wm)((0,a.SU)(c.Z))],64))}};const R=(0,v.Z)(K,[["__scopeId","data-v-5caa7e4b"]]);var V=R},782:function(t,i,n){t.exports=n.p+"img/cart.883aded3.svg"},7870:function(t,i,n){t.exports=n.p+"img/cart_active.a5fff7f8.svg"},4166:function(t,i,n){t.exports=n.p+"img/category.cf162e2e.svg"},1488:function(t,i,n){t.exports=n.p+"img/category_active.fa49b3ae.svg"},9537:function(t,i,n){t.exports=n.p+"img/home.0be7de05.svg"},996:function(t,i,n){t.exports=n.p+"img/home_active.f910b8a8.svg"},8561:function(t,i,n){t.exports=n.p+"img/profile.8be0b7e0.svg"},5120:function(t,i,n){t.exports=n.p+"img/profile_active.2f1077b7.svg"}}]);
//# sourceMappingURL=679.d5a8acd2.js.map